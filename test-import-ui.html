<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Importa√ß√µes Pendentes</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        .session {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .session-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .session-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .session-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .status.pending {
            background: #fef3c7;
            color: #d97706;
        }

        .status.error {
            background: #fee2e2;
            color: #dc2626;
        }

        .status.completed {
            background: #d1fae5;
            color: #059669;
        }

        .btn {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        .icon {
            width: 16px;
            height: 16px;
        }
    </style>
</head>

<body>
    <h1>üß™ Teste - Funcionalidade de Exclus√£o de Importa√ß√µes</h1>

    <h2>Sess√µes de Importa√ß√£o Simuladas</h2>

    <!-- Sess√£o PENDING -->
    <div class="session">
        <div class="session-header">
            <div class="session-info">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 17v-2m3 2v-4m3 2v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                    </path>
                </svg>
                <div>
                    <p style="margin: 0; font-weight: bold;">Nubank_ContaCorrente_Extrato_2025-09-05.csv</p>
                    <p style="margin: 0; color: #666; font-size: 14px;">Conta Corrente ‚Ä¢ 27 transa√ß√µes</p>
                </div>
            </div>
            <div class="session-actions">
                <span class="status pending">
                    <svg class="icon" style="display: inline; width: 14px; height: 14px; margin-right: 4px;" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z">
                        </path>
                    </svg>
                    PENDING
                </span>
                <button class="btn btn-primary">Continuar</button>
                <button class="btn btn-danger"
                    onclick="alert('Funcionalidade implementada! ‚úÖ\\n\\nEssa importa√ß√£o seria cancelada e o status mudaria para CANCELLED.')">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
                        </path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Sess√£o ERROR -->
    <div class="session">
        <div class="session-header">
            <div class="session-info">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 17v-2m3 2v-4m3 2v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                    </path>
                </svg>
                <div>
                    <p style="margin: 0; font-weight: bold;">BTG_ContaInvestimento_ExtratoMensal_2025-08.pdf</p>
                    <p style="margin: 0; color: #666; font-size: 14px;">Conta Investimento ‚Ä¢ 0 transa√ß√µes</p>
                </div>
            </div>
            <div class="session-actions">
                <span class="status error">
                    <svg class="icon" style="display: inline; width: 14px; height: 14px; margin-right: 4px;" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                    ERROR
                </span>
                <button class="btn btn-danger"
                    onclick="alert('Funcionalidade implementada! ‚úÖ\\n\\nEssa importa√ß√£o com erro seria removida do sistema.')">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
                        </path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Sess√£o COMPLETED (sem bot√£o de exclus√£o) -->
    <div class="session">
        <div class="session-header">
            <div class="session-info">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 17v-2m3 2v-4m3 2v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                    </path>
                </svg>
                <div>
                    <p style="margin: 0; font-weight: bold;">XP_ContaCorrente_extrato_2025-08.csv</p>
                    <p style="margin: 0; color: #666; font-size: 14px;">Conta Corrente ‚Ä¢ 15 transa√ß√µes</p>
                </div>
            </div>
            <div class="session-actions">
                <span class="status completed">
                    <svg class="icon" style="display: inline; width: 14px; height: 14px; margin-right: 4px;" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    COMPLETED
                </span>
                <!-- Nenhum bot√£o para sess√µes completas -->
            </div>
        </div>
    </div>

    <hr style="margin: 30px 0;">

    <h2>‚úÖ Funcionalidade Implementada</h2>
    <ul>
        <li><strong>Bot√£o de Lixeira:</strong> Aparece apenas para sess√µes PENDING e ERROR</li>
        <li><strong>Valida√ß√£o de Permiss√µes:</strong> Apenas usu√°rios com permiss√£o WRITE podem ver os bot√µes</li>
        <li><strong>Confirma√ß√£o:</strong> Dialog pergunta se o usu√°rio tem certeza antes de excluir</li>
        <li><strong>Feedback:</strong> Mensagens de sucesso/erro ap√≥s a a√ß√£o</li>
        <li><strong>Responsividade:</strong> Layout funciona em mobile e desktop</li>
        <li><strong>Seguran√ßa:</strong> Backend valida permiss√µes e estados</li>
    </ul>

    <h2>üîß C√≥digo Implementado</h2>
    <p><strong>Frontend:</strong> c:\src\budget\client\src\pages\ImportPage.tsx</p>
    <p><strong>Backend:</strong> c:\src\budget\server\src\controllers\importController.ts</p>
    <p><strong>Rotas:</strong> DELETE /api/import/sessions/:sessionId</p>
    <p><strong>Status Atualizado:</strong> 11 de setembro de 2025</p>

</body>

</html>